<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meu Perfil</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #f3f3f3;
        }

        header {
            background-color: #2a4b8d;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .container {
            display: flex;
            padding: 20px;
            gap: 20px;
        }

        .main-content {
            width: 70%;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .section h3 {
            margin-top: 0;
        }

        .history-item {
            border-left: 4px solid #2a4b8d;
            padding-left: 10px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<header>
    <h1>Meu Perfil</h1>
</header>

<div class="container">
    <section class="main-content">

        <!--recuperando dados do usuário-->
        <div class="section">
            <h3>Dados Cadastrados</h3>
            <div>
                <script>
                import { getDatabase, ref, get } from "firebase/database";

                const db = getDatabase();

                async function carregarDadosDoUsuario(uid) {
                const userRef = ref(db, 'usuarios/' + uid);
                const snap = await get(userRef);

                if (snap.exists()) {
                    const dados = snap.val();
                    preencherPerfil(dados);
                } else {
                    console.log("Nenhum dado encontrado");
                }
                }
                </script>

                <p id="nome"></p>
                <p id="dataNascimento"></p>
                <p id="email"></p>
                <p id="phone"></p>
                <p id="phoneEmergencia"></p>
                <p id="endereco"></p>
                <p id="sangue"></p>
                <p id="alergia"></p>

                <script>
                function preencherPerfil(dados) {
                document.getElementById("nome").textContent = dados.nome;
                document.getElementById("dataNascimento").textContent = dados.dataNascimento;
                document.getElementById("email").textContent = dados.email;
                document.getElementById("phone").textContent = dados.phone;
                document.getElementById("phoneEmergencia").textContent = dados.phoneEmergencia;
                document.getElementById("endereco").textContent = dados.endereco;
                document.getElementById("sangue").textContent = dados.sangue;
                document.getElementById("alergia").textContent = dados.alergia;
                }  
                </script>
                

                <!--colocar da doença cardíaca-->

            </div>
        </div>

        <div class="section">
            <h3>Histórico de Rotas</h3>

            <div class="history-item">
                <p><strong>21/08/2025</strong> — Rota Religiosa</p>
            </div>

            <div class="history-item">
                <p><strong>10/09/2025</strong> — Rota dos Engenhos</p>
            </div>

            <div class="history-item">
                <p><strong>12/10/2025</strong> — Rota do Centro</p>
            </div>

        </div>

    </section>
</div>

</body>
</html>
